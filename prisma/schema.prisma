generator client {
  provider      = "prisma-client-js"
  output        = "../node_modules/@prisma/client"
  binaryTargets = ["native"]
  engineType    = "library"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Image {
  imgId       String    @unique
  fileType    String
  fileSize    Int
  dimensionX  Int
  dimensionY  Int
  purity      String
  category    String
  path        String
  url         String
  source      String
  colors      String
  desc        String
  createdTime DateTime
  createAt    DateTime  @default(now())
  updateAt    DateTime
  imageExt    ImageExt?
}

model ImageExt {
  imgId     String   @unique
  views     Int
  favorites Int
  ratio     Decimal
  createAt  DateTime
  updateAt  DateTime
  image     Image    @relation(fields: [imgId], references: [imgId], onDelete: Cascade)
  author    Author?
  tag       Tag?
}

model Author {
  name     String   @unique
  id       String?
  desc     String
  type     String
  createAt DateTime @default(now())
  updateAt DateTime
  imageExt ImageExt @relation(fields: [name], references: [imgId], onDelete: NoAction, onUpdate: NoAction)
}

model Tag {
  name       String   @unique
  alias      String?
  id         String?
  categoryId String
  category   String
  createAt   DateTime @default(now())
  updateAt   DateTime
  imageExt   ImageExt @relation(fields: [name], references: [imgId], onDelete: NoAction, onUpdate: NoAction)
}
